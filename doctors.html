<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Doctors — KIMSU Specialist Centre</title>
  <meta name="description" content="Our medical team at KIMSU Specialist Centre." />
  <link rel="stylesheet" href="css/main.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
</head>
<body class="theme-light">

  <header class="header">
    <div class="wrap header-inner">
      <a class="logo" href="index.html"><img src="assets/images/logo-kimsu.svg" alt="KIMSU"></a>
      <nav class="nav" aria-label="Main">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="services.html">Services</a></li>
          <li><a href="doctors.html" class="active">Doctors</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
      <div class="header-controls">
        <button id="btn-theme-4" class="btn-icon" aria-label="Toggle theme"><i class="fa fa-moon"></i></button>
        <button id="btn-nav-4" class="btn-icon mobile-only" aria-label="Open menu"><i class="fa fa-bars"></i></button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="page-header" data-animate>
      <h1>Our Medical Team</h1>
      <p>Experienced clinicians dedicated to compassionate, modern care. Most of our team are urology specialists today — more specialties are joining soon.</p>
    </section>

    <!-- Short intro with CTA -->
    <section class="card intro-cta" data-animate>
      <div>
        <strong>Book a consultation</strong>
        <p class="muted" style="margin:0">Call us or use the booking form to request a suitable time. We will confirm your appointment within business hours.</p>
      </div>
      <div class="intro-actions">
        <a class="btn small" href="appointments.html">Book appointment</a>
        <a class="btn outline small" href="contact.html">Contact reception</a>
      </div>
    </section>

    <!-- Doctors grid -->
    <section class="doctors-grid" data-animate aria-label="Doctors list">
      <!-- CARD TEMPLATE: each .doctor-card has data-* attributes used by JS -->
      <article class="doctor-card" tabindex="0"
               data-name="Dr. Dancun Waweru"
               data-title="Urology Surgeon"
               data-qual="MBChB, Fellowship Endourology"
               data-exp="11 years"
               data-languages="English, Kiswahili"
               data-bio="Dr Dancun Waweru has special interest in endoscopic procedures and minimally invasive stone removal. He emphasises shared decision making and clear aftercare instructions.">
        <div class="doctor-media">
          <img src="assets/images/doctor-1.png" alt="Dr. Dancun Waweru">
        </div>

        <div class="doctor-body">
          <h3>Dr. Dancun Waweru</h3>
          <p class="muted small">Urology Surgeon — Endoscopic specialist</p>
          <p class="muted">Availability: Tue & Thu · 10:00–14:00</p>

          <div class="doctor-actions">
            <button class="link-btn" data-action="view-profile">View profile</button>
            <a class="btn small" data-action="book" href="appointments.html">Book consultation</a>
          </div>
        </div>
      </article>

      <article class="doctor-card" tabindex="0"
               data-name="Ms. Grace Njeri"
               data-title="Consultant Urologist"
               data-qual="MBChB, MMed (Urology)"
               data-exp="12 years"
               data-languages="English, Kiswahili"
               data-bio="Dr Jane Mwangi is a consultant urologist with extensive experience treating kidney stones, prostate and urinary infections. She focuses on minimally invasive care and patient education.">
        <div class="doctor-media">
          <img src="assets/images/doctor-2.jpeg" alt="Ms. Grace Njeri">
        </div>

        <div class="doctor-body">
          <h3>Ms. Grace Njeri</h3>
          <p class="muted small">Consultant Urologist — MBChB, MMed (Urology)</p>
          <p class="muted">Availability: Mon, Wed & Fri · 9:00–13:00</p>

          <div class="doctor-actions">
            <button class="link-btn" data-action="view-profile">View profile</button>
            <a class="btn small" data-action="book" href="appointments.html">Book consultation</a>
          </div>
        </div>
      </article>

      <article class="doctor-card" tabindex="0"
               data-name="Ms. Grace Njeri"
               data-title="Senior Nurse — Endoscopy"
               data-qual="BSc Nursing, Endoscopy Cert."
               data-exp="8 years"
               data-languages="English, Kiswahili"
               data-bio="Grace leads pre-procedure checks and patient education. She helps patients prepare for endoscopy and manage recovery at home.">
        <div class="doctor-media">
          <img src="assets/images/doctor-3.jpeg" alt="Ms. Bancy Gatwiri">
        </div>

        <div class="doctor-body">
          <h3>Ms. Bancy Gatwiri</h3>
          <p class="muted small">Senior Nurse — Endoscopy & patient education</p>
          <p class="muted">Availability: Mon–Sat · 8:00–12:00</p>

          <div class="doctor-actions">
            <button class="link-btn" data-action="view-profile">View profile</button>
            <a class="btn small" data-action="book" href="contact.html">Contact</a>
          </div>
        </div>
      </article>

      <!-- Placeholder / future clinicians -->
      <article class="doctor-card placeholder" tabindex="0"
               data-name="Dr. Mary Otieno"
               data-title="Visiting Nephrologist"
               data-qual="MBChB, MMed (Nephrology)"
               data-exp="10 years"
               data-languages="English, Kiswahili"
               data-bio="Dr Mary visits monthly for nephrology clinics. Dates published on the site and at reception.">
        <div class="doctor-media">
          <img src="assets/images/placeholder.png" alt="Dr. Mary Otieno">
        </div>

        <div class="doctor-body">
          <h3>Dr. Mary Otieno</h3>
          <p class="muted small">Visiting Nephrologist — coming soon</p>
          <p class="muted">Availability: Monthly clinics</p>

          <div class="doctor-actions">
            <button class="link-btn" data-action="view-profile">View profile</button>
            <a class="btn small" data-action="book" href="appointments.html">Book consultation</a>
          </div>
        </div>
      </article>

      <article class="doctor-card placeholder" tabindex="0"
               data-name="Dr. Michael Ouma"
               data-title="General Surgeon"
               data-qual="MBChB, MMed (Surgery)"
               data-exp="11 years"
               data-languages="English, Kiswahili"
               data-bio="Dr Michael will join to provide general surgical care as services expand.">
        <div class="doctor-media">
          <img src="assets/images/placeholder.png" alt="Dr. Michael Ouma">
        </div>

        <div class="doctor-body">
          <h3>Dr. Michael Ouma</h3>
          <p class="muted small">General Surgeon — coming soon</p>
          <p class="muted">Availability: To be announced</p>

          <div class="doctor-actions">
            <button class="link-btn" data-action="view-profile">View profile</button>
            <a class="btn small" data-action="book" href="contact.html">Contact</a>
          </div>
        </div>
      </article>

    </section>

    <!-- Small FAQ / notes about booking -->
    <section class="wrap" data-animate style="margin-top:1rem;">
      <div class="card">
        <h3>Booking & appointments</h3>
        <p class="muted">We accept walk-ins for simple check-ups but recommend booking in advance to avoid waits. For surgical procedures we will schedule a detailed consultation and pre-op checks.</p>
      </div>
    </section>
  </main>

  <!-- Doctor profile modal (single, populated dynamically) -->
  <div id="doctor-modal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="doctor-name">
    <div class="modal-panel" role="document">
      <button class="modal-close" aria-label="Close modal">×</button>
      <div style="display:flex; gap:1rem; align-items:flex-start; flex-wrap:wrap;">
        <div style="flex:0 0 110px;">
          <img id="doctor-image" src="assets/images/placeholder.png" alt="" style="width:110px; height:110px; object-fit:cover; border-radius:8px;"/>
        </div>
        <div style="flex:1 1 240px;">
          <h3 id="doctor-name">Doctor Name</h3>
          <p id="doctor-title" class="muted">Title & qualifications</p>
          <p id="doctor-experience" class="muted" style="margin-top:0.2rem;"></p>
          <p id="doctor-languages" class="muted"></p>
          <div id="doctor-bio" style="margin-top:0.6rem; color:var(--c-text)"></div>
          <div style="margin-top:0.7rem; display:flex; gap:0.6rem;">
            <a id="modal-book" class="btn small" href="appointments.html">Book consultation</a>
            <a id="modal-contact" class="btn outline small" href="contact.html">Contact</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="footer" role="contentinfo">
    <div class="wrap foot-bottom">
      <div>
        &copy; <span id="year"></span> KIMSU Specialist Centre ·
        <a href="privacy.html">Privacy Policy</a>
      </div>
    </div>
  </footer>

  <!-- Script: modal + button wiring (view profile + prefill booking) -->
  <script>
    (function(){
      // Modal elements
      const modal = document.getElementById('doctor-modal');
      const closeBtns = modal ? modal.querySelectorAll('.modal-close') : [];
      const modalImage = document.getElementById('doctor-image');
      const modalName = document.getElementById('doctor-name');
      const modalTitle = document.getElementById('doctor-title');
      const modalExp = document.getElementById('doctor-experience');
      const modalLang = document.getElementById('doctor-languages');
      const modalBio = document.getElementById('doctor-bio');
      const modalBook = document.getElementById('modal-book');

      // Event delegation for buttons in doctor cards
      document.addEventListener('click', function(e){
        const t = e.target;
        // View profile button
        if(t && t.matches && t.matches('[data-action="view-profile"], [data-action="view-profile"] *')) {
          e.preventDefault();
          const card = t.closest('.doctor-card');
          if(card) openModalFromCard(card);
        }
        // Book button
        if(t && t.matches && t.matches('[data-action="book"], [data-action="book"] *')) {
          // if the booking link is on the same page, prefill doctor param
          const card = t.closest('.doctor-card');
          const anchor = t.closest('a[data-action="book"]') || (t.tagName === 'A' && t);
          if(card && anchor) {
            const name = card.dataset.name || '';
            if(name) {
              // set href to appointments.html?doctor=... (preserve contact if contact link)
              const base = anchor.getAttribute('href') || 'appointments.html';
              if(base.indexOf('appointments.html') !== -1) {
                anchor.href = `appointments.html?doctor=${encodeURIComponent(name)}`;
              }
            }
            // allow normal navigation afterward
          }
        }
      });

      // open modal with card data
      function openModalFromCard(card){
        if(!modal) return;
        const img = card.querySelector('img');
        const name = card.dataset.name || '';
        const title = card.dataset.title || '';
        const qual = card.dataset.qual || '';
        const exp = card.dataset.exp || '';
        const langs = card.dataset.languages || '';
        const bio = card.dataset.bio || '';

        modalImage.src = img ? img.src : 'assets/images/placeholder.png';
        modalImage.alt = name;
        modalName.textContent = name;
        modalTitle.textContent = title + (qual ? ' · ' + qual : '');
        modalExp.textContent = exp ? ('Experience: ' + exp) : '';
        modalLang.textContent = langs ? ('Languages: ' + langs) : '';
        modalBio.textContent = bio;

        // Pre-fill modal book link
        modalBook.href = `appointments.html?doctor=${encodeURIComponent(name)}`;

        modal.setAttribute('aria-hidden','false');
        document.body.style.overflow = 'hidden';
        const panel = modal.querySelector('.modal-panel');
        if(panel) panel.focus();
      }

      function closeModal(){
        if(!modal) return;
        modal.setAttribute('aria-hidden','true');
        document.body.style.overflow = '';
      }

      closeBtns.forEach(b => b.addEventListener('click', closeModal));
      modal?.addEventListener('click', (e) => { if(e.target === modal) closeModal(); });
      document.addEventListener('keydown', (e) => { if(e.key === 'Escape') closeModal(); });

      // keyboard: Enter on focused doctor-card opens profile
      document.querySelectorAll('.doctor-card').forEach(card => {
        card.addEventListener('keydown', (e) => {
          if(e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            openModalFromCard(card);
          }
        });
      });
    })();
  </script>

  <!-- Cookie + main scripts -->
  <script src="js/cookies.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
