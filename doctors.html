<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Doctors — KIMSU Specialist Centre</title>
  <meta name="description" content="Our medical team at KIMSU Specialist Centre." />
  <link rel="icon" href="assets/images/logo-kimsu.svg" type="image/svg+xml">
  <link rel="stylesheet" href="css/main.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
  <style>
    /* --- Shared theme tokens (matches services.html) --- */
    :root{
      --accent-brown: #8B5A2B;        /* primary warm/brown accent */
      --accent-brown-2: #A06B3A;      /* secondary warm accent */
      --c-secondary: var(--accent-brown);
      --c-accent: var(--accent-brown-2);

      /* surface / text tokens (light mode defaults) */
      --c-bg: #ffffff;
      --c-surface: #ffffff;
      --c-border: rgba(17,17,17,0.06);
      --c-text: #111214;
      --c-text-muted: #6b6b6b;

      /* shadows & UI tokens */
      --shadow: 0 8px 24px rgba(17,12,8,0.06);
      --shadow-elev: 0 14px 40px rgba(17,12,8,0.08);

      /* page-specific tokens */
      --card-radius: 12px;
      --card-shadow: 0 8px 24px rgba(17,12,8,0.06);
      --card-shadow-elev: 0 14px 40px rgba(17,12,8,0.08);

      --transition: cubic-bezier(.2,.9,.2,1);

      /* convenience aliases used below */
      --accent: var(--c-secondary);
      --muted: var(--c-text-muted);
    }

    /* dark theme overrides (keeps look consistent with services.html) */
    body.theme-dark {
      --c-bg: #0b0f12;
      --c-surface: #0f1720;
      --c-border: rgba(255,255,255,0.05);
      --c-text: #e6eef6;
      --c-text-muted: #9aa0a6;

      --shadow: 0 10px 40px rgba(2,6,10,0.6);
      --card-shadow: 0 10px 28px rgba(2,6,10,0.45);
      --card-shadow-elev: 0 18px 48px rgba(2,6,10,0.55);

      --accent: #B88658;
      --muted: var(--c-text-muted);
    }

    /* --- Doctors page overrides: responsive layout, button formatting --- */

    /* Doctors grid: responsive columns */
    .doctors-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      margin-top: 1rem;
    }
    /* Card look */
    .doctor-card {
      display: flex;
      gap: 1rem;
      align-items: stretch;
      background: var(--c-surface);
      border-radius: var(--card-radius);
      padding: 0.85rem;
      border: 1px solid var(--c-border);
      box-shadow: var(--card-shadow);
      transition: transform .12s var(--transition), box-shadow .12s var(--transition);
      min-height: 118px;
      color: var(--c-text);
    }
    .doctor-card:focus-within, .doctor-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--card-shadow-elev);
    }

    /* Image */
    .doctor-media {
      flex: 0 0 110px;
      height: 110px;
      overflow: hidden;
      border-radius: 8px;
      background: linear-gradient(180deg, rgba(250,245,240,0.8), transparent);
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .doctor-media img {
      width:100%;
      height:100%;
      display:block;
      object-fit: cover;
      object-position: 50% 24%;
    }

    /* Body */
    .doctor-body {
      flex: 1 1 auto;
      display:flex;
      flex-direction:column;
      gap:0.35rem;
      min-width:0; /* allow truncation */
      color: var(--c-text);
    }
    .doctor-body h3 { margin:0; font-size:1.05rem; color:var(--c-text); }
    .doctor-body .muted { color: var(--muted); margin:0; font-size:0.95rem; }

    /* Actions: side-by-side and aligned right on wide screens */
    .doctor-actions {
      margin-top: 0.5rem;
      display:flex;
      gap:0.6rem;
      align-items:center;
      flex-wrap:wrap;
    }
    /* ensure buttons don't wrap their text */
    .doctor-actions .btn, .doctor-actions .link-btn {
      white-space: nowrap;
    }

    /* Buttons (use shared tokens) */
    .btn {
      background: var(--accent);
      color: #fff;
      border: 1px solid rgba(0,0,0,0.06);
      padding: 8px 12px;
      border-radius: 8px;
      display:inline-flex;
      align-items:center;
      gap:0.5rem;
      text-decoration:none;
    }
    .btn.small { padding:8px 12px; font-size:0.95rem; border-radius:8px; }
    .btn.outline {
      background: transparent;
      color: var(--accent);
      border: 1px solid var(--accent);
      box-shadow:none;
    }

    /* link-btn style: subtle text button */
    .link-btn {
      background: transparent;
      border: none;
      color: var(--accent);
      cursor: pointer;
      font-weight:700;
      padding: 6px 8px;
      border-radius: 8px;
    }
    .link-btn:hover, .link-btn:focus { text-decoration:underline; outline: none; }

    /* smaller footprint for placeholder cards */
    .doctor-card.placeholder { opacity: 0.98; }

    /* Modal tweaks */
    .modal .modal-panel {
      background: var(--c-surface);
      border-radius: 12px;
      padding: 1rem;
      border: 1px solid var(--c-border);
      box-shadow: 0 20px 50px rgba(10,10,10,0.25);
      max-width: 720px;
      width: calc(100% - 32px);
      color: var(--c-text);
    }
    .modal .modal-close { font-size: 20px; color: var(--c-text); background: transparent; border: none; }

    /* Responsive behavior */
    @media (max-width: 1024px) {
      .doctors-grid { grid-template-columns: repeat(2, 1fr); }
      .doctor-card { flex-direction: row; }
      .doctor-media { flex-basis: 96px; height: 96px; }
    }
    @media (max-width: 640px) {
      .doctors-grid { grid-template-columns: 1fr; }
      .doctor-card { gap:0.75rem; padding:0.7rem; align-items:flex-start; }
      .doctor-media { flex-basis: 88px; height: 88px; }
      .doctor-body h3 { font-size: 1rem; }
      .doctor-body .muted { font-size:0.9rem; }
    }

    /* Dark mode tweaks for doctors page elements */
    .theme-dark .doctor-card {
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid var(--c-border);
      color: var(--c-text);
      box-shadow: 0 8px 22px rgba(0,0,0,0.35);
    }
    .theme-dark .doctor-media { background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent); }
    .theme-dark .doctor-body .muted { color: var(--muted); }
    .theme-dark .modal .modal-panel { background: var(--c-surface); color:var(--c-text); border:1px solid var(--c-border); box-shadow: 0 18px 48px rgba(0,0,0,0.6); }

    /* Accessibility focus */
    .doctor-card:focus { outline: 3px solid rgba(139,90,43,0.12); outline-offset: 3px; }

    /* ensure footer year shows */
    #year { font-weight:600; }
  </style>
</head>
<body class="theme-light">

  <header class="header">
    <div class="wrap header-inner">
      <a class="logo" href="index.html"><img src="assets/images/logo-kimsu.svg" alt="KIMSU"></a>
      <nav class="nav" aria-label="Main">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="services.html">Services</a></li>
          <li><a href="doctors.html" class="active">Doctors</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
      <div class="header-controls">
        <button id="btn-theme-4" class="btn-icon" aria-label="Toggle theme"><i class="fa fa-moon"></i></button>
        <button id="btn-nav-4" class="btn-icon mobile-only" aria-label="Open menu"><i class="fa fa-bars"></i></button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="page-header" data-animate>
      <h1>Our Medical Team</h1>
      <p>Experienced clinicians dedicated to compassionate, modern care. Most of our team are urology specialists today — visiting and consulting clinicians rotate weekly.</p>
    </section>

    <!-- Short intro with CTA -->
    <section class="card intro-cta" data-animate>
      <div>
        <strong>Book a consultation</strong>
        <p class="muted" style="margin:0">Call us or use the booking form to request a suitable time. We will confirm your appointment during business hours.</p>
      </div>
      <div class="intro-actions">
        <a class="btn small" href="appointments.html">Book appointment</a>
        <a class="btn outline small" href="contact.html">Contact reception</a>
      </div>
    </section>

    <!-- Doctors grid -->
    <section class="doctors-grid" data-animate aria-label="Doctors list">

      <!-- Dr. Duncan Waweru (corrected name) -->
      <article class="doctor-card" tabindex="0"
               data-name="Dr. Duncan Waweru"
               data-title="Urology Surgeon"
               data-qual="MBChB, MMed (Urology), PhD (Health Systems Management), Fellowship (Uro-oncology)"
               data-exp="15 years"
               data-languages="English, Kiswahili, Kikuyu"
               data-bio="Dr Duncan Waweru is an experienced urology surgeon with a special interest in uro-oncology and minimally invasive endoscopic procedures. Over a 15-year career he has helped thousands of patients using modern techniques to remove stones, treat prostate problems and manage complex urinary tract conditions. He completed MBChB and a Master of Medicine in Urology, and later a PhD in Health Systems Management — blending clinical skill with a systems view of care delivery. Patients describe him as calm, thorough and good at explaining options in plain language. Outside the clinic he teaches junior doctors and works on improving surgical services in the region.">
        <div class="doctor-media">
          <img src="assets/images/doctor-1.jpg" alt="Dr. Duncan Waweru">
        </div>

        <div class="doctor-body">
          <h3>Dr. Duncan Waweru</h3>
          <p class="muted small">Urology Surgeon — Uro-oncology & endoscopic specialist</p>
          <p class="muted">Availability: Wed, Thu & Fri · 09:00–15:00</p>

          <div class="doctor-actions">
            <button class="link-btn" data-action="view-profile">View profile</button>
            <a class="btn small" data-action="book" href="appointments.html">Book consultation</a>
          </div>
        </div>
      </article>

      <!-- Ms. Bancy Gatwiri (Clinician) -->
      <article class="doctor-card" tabindex="0"
               data-name="Ms. Bancy Gatwiri"
               data-title="Clinician"
               data-qual="Clinical Officer"
               data-exp="5 years"
               data-languages="English, Kiswahili, Meru"
               data-bio="Bancy is a clinician who sees patients for general urology follow-up visits, basic outpatient care and pre-procedure checks. With five years of clinical experience she is skilled at taking a clear medical history, performing focused examinations and coordinating tests. Bancy speaks Meru in addition to Kiswahili and English — many patients find this helpful when explaining symptoms and understanding care instructions. She is on site during all clinic operating hours to assist with triage, routine care and patient education.">
        <div class="doctor-media">
          <img src="assets/images/doctor-5.jpg" alt="Ms. Bancy Gatwiri">
        </div>

        <div class="doctor-body">
          <h3>Ms. Bancy Gatwiri</h3>
          <p class="muted small">Clinician — Clinical Officer</p>
          <p class="muted">Availability: Every operating day · Mon–Fri 08:00–17:00 · Sat 08:00–12:00</p>

          <div class="doctor-actions">
            <button class="link-btn" data-action="view-profile">View profile</button>
            <a class="btn small" data-action="book" href="appointments.html">Book consultation</a>
          </div>
        </div>
      </article>


      <!-- Shirlyn Wanjiku (theatre technician) -->
      <article class="doctor-card" tabindex="0"
               data-name="Shirlyn Wanjiku"
               data-title="Theatre Technician"
               data-qual="Certified Theatre Technician"
               data-exp="4 years"
               data-languages="English, Kiswahili"
               data-bio="Shirlyn is our theatre technician who makes sure the operating room runs safely and smoothly. With four years of hands-on experience, she prepares instruments, maintains sterile technique and supports surgeons during procedures. Shirlyn is practical, calm under pressure and excellent at helping patients understand what to expect before and after their procedure.">
        <div class="doctor-media">
          <img src="assets/images/doctor-4.jpg" alt="Ms. Shirlyn Wanjiku">
        </div>

        <div class="doctor-body">
          <h3>Ms. Shirlyn Wanjiku</h3>
          <p class="muted small">Theatre Technician</p>
          <p class="muted">Availability: Every operating day · Mon–Fri 08:00–17:00 · Sat 08:00–12:00</p>

          <div class="doctor-actions">
            <button class="link-btn" data-action="view-profile">View profile</button>
            <a class="btn small" data-action="book" href="contact.html">Contact</a>
          </div>
        </div>
      </article>

      <!-- Consulting Urologist (generic rotating clinician) -->
      <article class="doctor-card" tabindex="0"
               data-name=""
               data-title="Consulting Urologist"
               data-qual="Visiting consultant (varies)"
               data-exp="Varies"
               data-languages="English, Kiswahili"
               data-bio="Our consulting urology clinic is staffed by visiting specialists. The clinician on duty may vary week to week — we bring experienced urologists to run consult clinics so patients get access to specialist care locally. Check the schedule or contact reception for the name of this week's consulting urologist and their clinic times.">
        <div class="doctor-media">
          <img src="assets/images/placeholder.png" alt="Consulting Urologist">
        </div>

        <div class="doctor-body">
          <h3>Consulting Urologist</h3>
          <p class="muted small">Visiting specialist — schedule varies</p>
          <p class="muted">Availability: See schedule — visiting clinics (dates vary)</p>

          <div class="doctor-actions">
            <button class="link-btn" data-action="view-profile">View profile</button>
            <a class="btn small" data-action="book" href="appointments.html">Book consultation</a>
          </div>
        </div>
      </article>

      <article class="doctor-card placeholder" tabindex="0"
               data-name="Visiting Nephrologist"
               data-title="Visiting Nephrologist"
               data-qual="MBChB, MMed (Nephrology)"
               data-exp="10 years"
               data-languages="English, Kiswahili"
               data-bio="A visiting nephrologist will run monthly clinics for patients with kidney disease. Dates will be published on this site and at reception; the visiting specialist will focus on diagnosing and stabilising chronic kidney conditions and advising on further care.">
        <div class="doctor-media">
          <img src="assets/images/placeholder.png" alt="Visiting Nephrologist">
        </div>

        <div class="doctor-body">
          <h3>Visiting Nephrologist</h3>
          <p class="muted small">Visiting clinic — coming soon</p>
          <p class="muted">Availability: Monthly clinics (dates published on the website)</p>

          <div class="doctor-actions">
            <button class="link-btn" data-action="view-profile">View profile</button>
            <a class="btn small" data-action="book" href="appointments.html">Book consultation</a>
          </div>
        </div>
      </article>

      <article class="doctor-card placeholder" tabindex="0"
               data-name="General Surgeon"
               data-title="General Surgeon"
               data-qual="MBChB, MMed (Surgery)"
               data-exp="11 years"
               data-languages="English, Kiswahili"
               data-bio="A general surgeon will provide minor and major surgical care when our surgical services are available. The visiting surgeon will support emergency and elective operations and collaborate with our theatre team on perioperative care.">
        <div class="doctor-media">
          <img src="assets/images/placeholder.png" alt="General Surgeon">
        </div>

        <div class="doctor-body">
          <h3>General Surgeon</h3>
          <p class="muted small">Surgical services — coming soon</p>
          <p class="muted">Availability: To be announced</p>

          <div class="doctor-actions">
            <button class="link-btn" data-action="view-profile">View profile</button>
            <a class="btn small" data-action="book" href="contact.html">Contact</a>
          </div>
        </div>
      </article>

    </section>

    <!-- Small FAQ / notes about booking -->
    <section class="wrap" data-animate style="margin-top:1rem;">
      <div class="card">
        <h3>Booking & appointments</h3>
        <p class="muted">We accept walk-ins for simple check-ups but recommend booking in advance to avoid waits. For surgical procedures we will schedule a detailed consultation and pre-op checks.</p>
      </div>
    </section>
  </main>

  <!-- Doctor profile modal (single, populated dynamically) -->
  <div id="doctor-modal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="doctor-name">
    <div class="modal-panel" role="document" tabindex="-1">
      <button class="modal-close" aria-label="Close modal">×</button>
      <div style="display:flex; gap:1rem; align-items:flex-start; flex-wrap:wrap;">
        <div style="flex:0 0 110px;">
          <img id="doctor-image" src="assets/images/placeholder.png" alt="" style="width:110px; height:110px; object-fit:cover; border-radius:8px;"/>
        </div>
        <div style="flex:1 1 240px;">
          <h3 id="doctor-name">Doctor Name</h3>
          <p id="doctor-title" class="muted">Title & qualifications</p>
          <p id="doctor-experience" class="muted" style="margin-top:0.2rem;"></p>
          <p id="doctor-languages" class="muted"></p>
          <div id="doctor-bio" style="margin-top:0.6rem; color:var(--c-text)"></div>
          <div style="margin-top:0.7rem; display:flex; gap:0.6rem;">
            <a id="modal-book" class="btn small" href="appointments.html">Book consultation</a>
            <a id="modal-contact" class="btn outline small" href="contact.html">Contact</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="footer" role="contentinfo">
    <div class="wrap foot-bottom">
      <div>
        &copy; <span id="year"></span> KIMSU Specialist Centre ·
        <a href="privacy.html">Privacy Policy</a>
      </div>
    </div>
  </footer>

  <!-- Script: modal + button wiring (view profile + prefill booking) -->
  <script>
    (function(){
      // tiny helper to set current year
      const y = new Date().getFullYear();
      document.getElementById('year')?.replaceWith(document.createTextNode(y));

      // Modal elements
      const modal = document.getElementById('doctor-modal');
      const closeBtns = modal ? modal.querySelectorAll('.modal-close') : [];
      const modalImage = document.getElementById('doctor-image');
      const modalName = document.getElementById('doctor-name');
      const modalTitle = document.getElementById('doctor-title');
      const modalExp = document.getElementById('doctor-experience');
      const modalLang = document.getElementById('doctor-languages');
      const modalBio = document.getElementById('doctor-bio');
      const modalBook = document.getElementById('modal-book');

      // Event delegation for buttons in doctor cards
      document.addEventListener('click', function(e){
        const t = e.target;
        // View profile button
        if(t && t.matches && t.matches('[data-action="view-profile"], [data-action="view-profile"] *')) {
          e.preventDefault();
          const card = t.closest('.doctor-card');
          if(card) openModalFromCard(card);
        }
        // Book button
        if(t && t.matches && t.matches('[data-action="book"], [data-action="book"] *')) {
          // if the booking link is on the same page, prefill doctor param
          const card = t.closest('.doctor-card');
          const anchor = t.closest('a[data-action="book"]') || (t.tagName === 'A' && t);
          if(card && anchor) {
            const name = card.dataset.name || '';
            if(name || card.dataset.title) {
              const base = anchor.getAttribute('href') || 'appointments.html';
              if(base.indexOf('appointments.html') !== -1) {
                anchor.href = `appointments.html?doctor=${encodeURIComponent(name || card.dataset.title)}`;
              }
            }
          }
        }
      });

      // open modal with card data
      function openModalFromCard(card){
        if(!modal) return;
        const img = card.querySelector('img');
        const name = card.dataset.name || '';
        const title = card.dataset.title || '';
        const qual = card.dataset.qual || '';
        const exp = card.dataset.exp || '';
        const langs = card.dataset.languages || '';
        const bio = card.dataset.bio || '';

        modalImage.src = img ? img.src : 'assets/images/placeholder.png';
        modalImage.alt = name || title || 'Clinician';
        // Show the name if available; otherwise show the title as header
        modalName.textContent = name || title;
        modalTitle.textContent = (name ? title : '') + (qual ? (name ? ' · ' : '') + qual : '');
        modalExp.textContent = exp ? ('Experience: ' + exp) : '';
        modalLang.textContent = langs ? ('Languages: ' + langs) : '';
        modalBio.textContent = bio;

        // Pre-fill modal book link (use title if name missing)
        modalBook.href = `appointments.html?doctor=${encodeURIComponent(name || title)}`;

        modal.setAttribute('aria-hidden','false');
        document.body.style.overflow = 'hidden';
        const panel = modal.querySelector('.modal-panel');
        if(panel) panel.focus();
      }

      function closeModal(){
        if(!modal) return;
        modal.setAttribute('aria-hidden','true');
        document.body.style.overflow = '';
      }

      closeBtns.forEach(b => b.addEventListener('click', closeModal));
      modal?.addEventListener('click', (e) => { if(e.target === modal) closeModal(); });
      document.addEventListener('keydown', (e) => { if(e.key === 'Escape') closeModal(); });

      // keyboard: Enter on focused doctor-card opens profile
      document.querySelectorAll('.doctor-card').forEach(card => {
        card.addEventListener('keydown', (e) => {
          if(e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            openModalFromCard(card);
          }
        });
      });

      // Theme toggle button (keeps page consistent with site)
      document.getElementById('btn-theme-4')?.addEventListener('click', () => {
        const html = document.documentElement;
        if(html.classList.contains('theme-dark')) {
          html.classList.remove('theme-dark'); html.classList.add('theme-light');
        } else {
          html.classList.remove('theme-light'); html.classList.add('theme-dark');
        }
      });
    })();
  </script>

  <!-- Cookie + main scripts -->
  <script src="js/cookies.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
